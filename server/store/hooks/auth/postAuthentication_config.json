{"path":"auth/postAuthentication","depend":null,"script":"\nimport { AuthenticationHookRequest } from 'fireboom-wundersdk/server'\n\nexport default async function postAuthentication(hook: AuthenticationHookRequest) : Promise\u003cvoid\u003e{\n  if (hook.user?.accessToken?.sub) {\n    const { providerId } = hook.user\n    const {nickname, sub, picture } = hook.user.accessToken\n    const resp = await hook.internalClient.queries.FindOneAppUser({\n      input: {\n        providerUserId: sub,\n        providerId\n      }\n    })\n    const existedUser = resp?.data?.data\n    if (!existedUser) {\n      await hook.internalClient.mutations.CreateOneAppUser({\n        input: {\n          data: {\n            id: sub,\n            provider,\n            providerId,\n            nickname,\n            avatar: picture,\n            phone: '',\n            points: 100\n          }\n        }\n      })\n    }\n  }\n}","switch":true,"scriptType":"","input":null,"type":""}